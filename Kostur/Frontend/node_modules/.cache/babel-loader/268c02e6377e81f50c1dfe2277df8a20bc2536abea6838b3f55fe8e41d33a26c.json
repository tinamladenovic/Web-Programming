{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  data() {\n    return {\n      chocolate: {\n        name: '',\n        price: 0,\n        type: '',\n        kind: '',\n        weight: 0,\n        description: '',\n        factory: '',\n        picture: null // Čuvaće se slika u bazi ili na serveru\n      }\n    };\n  },\n  methods: {\n    async addChocolate() {\n      try {\n        // Koristi FormData za slanje podataka uključujući i sliku\n        let formData = new FormData();\n        Object.keys(this.chocolate).forEach(key => {\n          formData.append(key, this.chocolate[key]);\n        });\n        await axios.post('http://localhost:8080/WebShopAppREST/rest/chocolates', formData);\n        this.$router.push({\n          name: 'allchocolates'\n        });\n      } catch (error) {\n        console.error('Greška pri dodavanju čokolade:', error);\n      }\n    },\n    // Metoda koja se poziva kada korisnik izabere sliku\n    onFileChange(event) {\n      const file = event.target.files[0];\n      this.chocolate.picture = file;\n    }\n  }\n};","map":{"version":3,"names":["axios","useRouter","data","chocolate","name","price","type","kind","weight","description","factory","picture","methods","addChocolate","formData","FormData","Object","keys","forEach","key","append","post","$router","push","error","console","onFileChange","event","file","target","files"],"sources":["C:\\Users\\PC\\eclipse-workspace\\apache-tomcat-9.0.89\\apache-tomcat-9.0.89\\webapps\\chocolate-factory-2\\Kostur\\Frontend\\front-app\\src\\views\\AddChocolate.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Add Chocolate</h2>\r\n    <!-- Forma za dodavanje nove čokolade -->\r\n    <form @submit.prevent=\"addChocolate\">\r\n      <div>\r\n        <label for=\"name\">Naziv:</label>\r\n        <input v-model=\"chocolate.name\" id=\"name\" required />\r\n      </div>\r\n      <div>\r\n        <label for=\"price\">Cena:</label>\r\n        <input v-model.number=\"chocolate.price\" id=\"price\" type=\"number\" required />\r\n      </div>\r\n      <div>\r\n        <label for=\"type\">Tip:</label>\r\n        <select v-model=\"chocolate.type\" id=\"type\" required>\r\n          <option value=\"PLAIN\">Plain</option>\r\n          <option value=\"MILK\">Milk</option>\r\n          <option value=\"DARK\">Dark</option>\r\n          <!-- Dodajte opcije za ostale tipove čokolada ako postoje -->\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label for=\"kind\">Vrsta:</label>\r\n        <input v-model=\"chocolate.kind\" id=\"kind\" required />\r\n      </div>\r\n      <div>\r\n        <label for=\"weight\">Težina:</label>\r\n        <input v-model.number=\"chocolate.weight\" id=\"weight\" type=\"number\" required />\r\n      </div>\r\n      <div>\r\n        <label for=\"description\">Opis:</label>\r\n        <textarea v-model=\"chocolate.description\" id=\"description\" required></textarea>\r\n      </div>\r\n      <div>\r\n        <label for=\"factory\">Fabrika:</label>\r\n        <input v-model=\"chocolate.factory\" id=\"factory\" required />\r\n      </div>\r\n      <!-- Input za sliku čokolade -->\r\n      <div>\r\n        <label for=\"picture\">Slika:</label>\r\n        <input type=\"file\" @change=\"onFileChange\" accept=\"image/*\" />\r\n      </div>\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      chocolate: {\r\n        name: '',\r\n        price: 0,\r\n        type: '',\r\n        kind: '',\r\n        weight: 0,\r\n        description: '',\r\n        factory: '',\r\n        picture: null // Čuvaće se slika u bazi ili na serveru\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async addChocolate() {\r\n      try {\r\n        // Koristi FormData za slanje podataka uključujući i sliku\r\n        let formData = new FormData();\r\n        Object.keys(this.chocolate).forEach(key => {\r\n          formData.append(key, this.chocolate[key]);\r\n        });\r\n        await axios.post('http://localhost:8080/WebShopAppREST/rest/chocolates', formData);\r\n        this.$router.push({ name: 'allchocolates' });\r\n      } catch (error) {\r\n        console.error('Greška pri dodavanju čokolade:', error);\r\n      }\r\n    },\r\n    // Metoda koja se poziva kada korisnik izabere sliku\r\n    onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      this.chocolate.picture = file;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Stilovi za komponentu */\r\n</style>\r\n"],"mappings":";AAiDA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,CAAC;QACRC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE,CAAC;QACTC,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,EAAE;QACXC,OAAO,EAAE,IAAG,CAAE;MAChB;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF;QACA,IAAIC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC7BC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACd,SAAS,CAAC,CAACe,OAAO,CAACC,GAAE,IAAK;UACzCL,QAAQ,CAACM,MAAM,CAACD,GAAG,EAAE,IAAI,CAAChB,SAAS,CAACgB,GAAG,CAAC,CAAC;QAC3C,CAAC,CAAC;QACF,MAAMnB,KAAK,CAACqB,IAAI,CAAC,sDAAsD,EAAEP,QAAQ,CAAC;QAClF,IAAI,CAACQ,OAAO,CAACC,IAAI,CAAC;UAAEnB,IAAI,EAAE;QAAgB,CAAC,CAAC;MAC9C,EAAE,OAAOoB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IACF,CAAC;IACD;IACAE,YAAYA,CAACC,KAAK,EAAE;MAClB,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAClC,IAAI,CAAC3B,SAAS,CAACQ,OAAM,GAAIiB,IAAI;IAC/B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}