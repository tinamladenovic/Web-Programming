{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4af0b479\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Registered Users\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"searchFirstName\"\n}, \"Search by First Name: \", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"searchLastName\"\n}, \"Search by Last Name: \", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"searchUsername\"\n}, \"Search by Username: \", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"roleFilter\"\n}, \"Filter by Role: \", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"\\\" data-v-4af0b479>All</option><option value=\\\"ADMIN\\\" data-v-4af0b479>Admin</option><option value=\\\"CUSTOMER\\\" data-v-4af0b479>Customer</option><option value=\\\"WORKER\\\" data-v-4af0b479>Worker</option><option value=\\\"MANAGER\\\" data-v-4af0b479>Manager</option>\", 5);\nconst _hoisted_11 = [_hoisted_6];\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"userTypeFilter\"\n}, \"Filter by User Type: \", -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"\\\" data-v-4af0b479>All</option><option value=\\\"NO_TYPE\\\" data-v-4af0b479>No Type</option><option value=\\\"BRONZE\\\" data-v-4af0b479>Bronze</option><option value=\\\"SILVER\\\" data-v-4af0b479>Silver</option><option value=\\\"GOLD\\\" data-v-4af0b479>Gold</option>\", 5);\nconst _hoisted_18 = [_hoisted_13];\nconst _hoisted_19 = {\n  class: \"table\"\n};\nconst _hoisted_20 = {\n  key: 0\n};\nconst _hoisted_21 = {\n  key: 0\n};\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"searchFirstName\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchFirstName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchFirstName]])]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"searchLastName\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.searchLastName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchLastName]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"searchUsername\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.searchUsername = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchUsername]])]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    id: \"roleFilter\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.roleFilter = $event)\n  }, [..._hoisted_11], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.roleFilter]])]), _createElementVNode(\"div\", null, [_hoisted_12, _withDirectives(_createElementVNode(\"select\", {\n    id: \"userTypeFilter\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.userTypeFilter = $event)\n  }, [..._hoisted_18], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.userTypeFilter]])]), _createElementVNode(\"table\", _hoisted_19, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $setup.sortBy('firstName'))\n  }, [_createTextVNode(\"First Name \"), $setup.sortKey === 'firstName' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_20, _toDisplayString($setup.sortOrders.firstName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $setup.sortBy('lastName'))\n  }, [_createTextVNode(\"Last Name \"), $setup.sortKey === 'lastName' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_21, _toDisplayString($setup.sortOrders.lastName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[7] || (_cache[7] = $event => $setup.sortBy('username'))\n  }, [_createTextVNode(\"Username \"), $setup.sortKey === 'username' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_22, _toDisplayString($setup.sortOrders.username), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[8] || (_cache[8] = $event => $setup.sortBy('earnedPoints'))\n  }, [_createTextVNode(\"Earned Points \"), $setup.sortKey === 'earnedPoints' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_23, _toDisplayString($setup.sortOrders.earnedPoints), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.firstName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.lastName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.username), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.earnedPoints), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementVNode","for","_createStaticVNode","_hoisted_6","_hoisted_13","class","key","_createElementBlock","_hoisted_1","_hoisted_2","type","id","_cache","$event","$setup","searchFirstName","_hoisted_3","searchLastName","_hoisted_4","searchUsername","_hoisted_5","roleFilter","_hoisted_11","_hoisted_12","userTypeFilter","_hoisted_18","_hoisted_19","onClick","sortBy","_createTextVNode","sortKey","_hoisted_20","_toDisplayString","sortOrders","firstName","_createCommentVNode","_hoisted_21","lastName","_hoisted_22","username","_hoisted_23","earnedPoints","_Fragment","_renderList","filteredUsers","user"],"sources":["C:\\Users\\PC\\eclipse-workspace\\apache-tomcat-9.0.89\\apache-tomcat-9.0.89\\webapps\\chocolate-factory-2\\Kostur\\Frontend\\front-app\\src\\views\\UserTable.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Registered Users</h2>\r\n    <div>\r\n      <label for=\"searchFirstName\">Search by First Name: </label>\r\n      <input type=\"text\" id=\"searchFirstName\" v-model=\"searchFirstName\">\r\n    </div>\r\n    <div>\r\n      <label for=\"searchLastName\">Search by Last Name: </label>\r\n      <input type=\"text\" id=\"searchLastName\" v-model=\"searchLastName\">\r\n    </div>\r\n    <div>\r\n      <label for=\"searchUsername\">Search by Username: </label>\r\n      <input type=\"text\" id=\"searchUsername\" v-model=\"searchUsername\">\r\n    </div>\r\n    <div>\r\n      <label for=\"roleFilter\">Filter by Role: </label>\r\n      <select id=\"roleFilter\" v-model=\"roleFilter\">\r\n        <option value=\"\">All</option>\r\n        <option value=\"ADMIN\">Admin</option>\r\n        <option value=\"CUSTOMER\">Customer</option>\r\n        <option value=\"WORKER\">Worker</option>\r\n        <option value=\"MANAGER\">Manager</option>\r\n      </select>\r\n    </div>\r\n    <div>\r\n      <label for=\"userTypeFilter\">Filter by User Type: </label>\r\n      <select id=\"userTypeFilter\" v-model=\"userTypeFilter\">\r\n        <option value=\"\">All</option>\r\n        <option value=\"NO_TYPE\">No Type</option>\r\n        <option value=\"BRONZE\">Bronze</option>\r\n        <option value=\"SILVER\">Silver</option>\r\n        <option value=\"GOLD\">Gold</option>\r\n      </select>\r\n    </div>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th @click=\"sortBy('firstName')\">First Name <span v-if=\"sortKey === 'firstName'\">{{ sortOrders.firstName }}</span></th>\r\n          <th @click=\"sortBy('lastName')\">Last Name <span v-if=\"sortKey === 'lastName'\">{{ sortOrders.lastName }}</span></th>\r\n          <th @click=\"sortBy('username')\">Username <span v-if=\"sortKey === 'username'\">{{ sortOrders.username }}</span></th>\r\n          <th @click=\"sortBy('earnedPoints')\">Earned Points <span v-if=\"sortKey === 'earnedPoints'\">{{ sortOrders.earnedPoints }}</span></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in filteredUsers\" :key=\"user.id\">\r\n          <td>{{ user.firstName }}</td>\r\n          <td>{{ user.lastName }}</td>\r\n          <td>{{ user.username }}</td>\r\n          <td>{{ user.earnedPoints }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref, onMounted, computed } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const users = ref([]);\r\n    const searchFirstName = ref('');\r\n    const searchLastName = ref('');\r\n    const searchUsername = ref('');\r\n    const roleFilter = ref('');\r\n    const userTypeFilter = ref('');\r\n    const sortKey = ref('');\r\n    const sortOrders = ref({\r\n      firstName: 1,\r\n      lastName: 1,\r\n      username: 1,\r\n      earnedPoints: 1\r\n    });\r\n\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/WebShopAppREST/rest/users', {\r\n          withCredentials: true,\r\n        });\r\n        users.value = Object.values(response.data);\r\n        console.log('Fetched users:', users.value);\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchUsers();\r\n    });\r\n\r\n    const filteredUsers = computed(() => {\r\n      return users.value.filter(user => {\r\n        const firstNameMatch = user.firstName.toLowerCase().includes(searchFirstName.value.toLowerCase());\r\n        const lastNameMatch = user.lastName.toLowerCase().includes(searchLastName.value.toLowerCase());\r\n        const usernameMatch = user.username.toLowerCase().includes(searchUsername.value.toLowerCase());\r\n        const roleMatch = !roleFilter.value || user.role === roleFilter.value;\r\n        const userTypeMatch = !userTypeFilter.value || user.userType === userTypeFilter.value;\r\n\r\n        return firstNameMatch && lastNameMatch && usernameMatch && roleMatch && userTypeMatch;\r\n      });\r\n    });\r\n\r\n    const sortBy = key => {\r\n      sortKey.value = key;\r\n      sortOrders.value[key] = sortOrders.value[key] * -1;\r\n      filteredUsers.value.sort((a, b) => {\r\n        const modifier = sortOrders.value[key];\r\n        if (key === 'earnedPoints') {\r\n          return modifier * (a[key] - b[key]);\r\n        } else {\r\n          return modifier * a[key].localeCompare(b[key]);\r\n        }\r\n      });\r\n    };\r\n\r\n    return {\r\n      filteredUsers,\r\n      searchFirstName,\r\n      searchLastName,\r\n      searchUsername,\r\n      roleFilter,\r\n      userTypeFilter,\r\n      sortBy,\r\n      sortKey,\r\n      sortOrders\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.table th, .table td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\n.table th {\r\n  background-color: #f2f2f2;\r\n  text-align: left;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}