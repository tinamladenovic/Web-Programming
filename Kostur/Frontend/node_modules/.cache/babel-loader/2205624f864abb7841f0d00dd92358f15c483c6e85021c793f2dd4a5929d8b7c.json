{"ast":null,"code":"import axios from 'axios';\nimport { ref, onMounted } from 'vue';\nexport default {\n  setup() {\n    const user = ref({\n      id: '',\n      username: '',\n      password: '',\n      firstName: '',\n      lastName: '',\n      gender: '',\n      birthDate: '',\n      role: '',\n      customerType: '',\n      earnedPoints: 0,\n      shoppingCart: '',\n      chocolateFactoryObject: '',\n      blocked: false\n    });\n    const fetchUserProfile = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/WebShopAppREST/rest/currentUser', {\n          withCredentials: true\n        });\n        user.value = response.data;\n      } catch (error) {\n        console.error('Error fetching user profile:', error);\n      }\n    };\n    const updateProfile = async () => {\n      if (!user.value.firstName || !user.value.lastName) {\n        alert('First Name and Last Name are required.');\n        return;\n      }\n      try {\n        await axios.put('http://localhost:8080/WebShopAppREST/rest/user/profile', user.value, {\n          withCredentials: true\n        });\n        alert('Profile updated successfully!');\n      } catch (error) {\n        console.error('Error updating profile:', error);\n        alert('Failed to update profile. Please try again.');\n      }\n    };\n    onMounted(() => {\n      fetchUserProfile();\n    });\n    return {\n      user,\n      updateProfile\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","onMounted","setup","user","id","username","password","firstName","lastName","gender","birthDate","role","customerType","earnedPoints","shoppingCart","chocolateFactoryObject","blocked","fetchUserProfile","response","get","withCredentials","value","data","error","console","updateProfile","alert","put"],"sources":["C:\\Users\\PC\\eclipse-workspace\\apache-tomcat-9.0.89\\apache-tomcat-9.0.89\\webapps\\chocolate-factory-2\\Kostur\\Frontend\\front-app\\src\\views\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>User Profile</h2>\r\n    <form @submit.prevent=\"updateProfile\">\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">Username:</label>\r\n        <input v-model=\"user.username\" id=\"username\" class=\"form-control\" disabled />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"firstName\">First Name:</label>\r\n        <input v-model=\"user.firstName\" id=\"firstName\" class=\"form-control\" required />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"lastName\">Last Name:</label>\r\n        <input v-model=\"user.lastName\" id=\"lastName\" class=\"form-control\" required />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">Password:</label>\r\n        <input v-model=\"user.password\" id=\"password\" type=\"password\" class=\"form-control\" required />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"gender\">Gender:</label>\r\n        <select v-model=\"user.gender\" id=\"gender\" class=\"form-control\" required>\r\n          <option value=\"MALE\">Male</option>\r\n          <option value=\"FEMALE\">Female</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"birthDate\">Birth Date:</label>\r\n        <input v-model=\"user.birthDate\" id=\"birthDate\" type=\"date\" class=\"form-control\" required />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"role\">Role:</label>\r\n        <p id=\"role\">{{ user.role }}</p>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"customerType\">Customer Type:</label>\r\n        <p id=\"customerType\">{{ user.customerType }}</p>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"earnedPoints\">Earned Points:</label>\r\n        <p id=\"earnedPoints\">{{ user.earnedPoints }}</p>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"shoppingCart\">Shopping Cart:</label>\r\n        <p id=\"shoppingCart\">{{ user.shoppingCart }}</p>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"chocolateFactoryObject\">Chocolate Factory Object:</label>\r\n        <p id=\"chocolateFactoryObject\">{{ user.chocolateFactoryObject }}</p>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"blocked\">Blocked:</label>\r\n        <p id=\"blocked\">{{ user.blocked ? 'Yes' : 'No' }}</p>\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Update Profile</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref, onMounted } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const user = ref({\r\n      id: '',\r\n      username: '',\r\n      password: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      gender: '',\r\n      birthDate: '',\r\n      role: '',\r\n      customerType: '',\r\n      earnedPoints: 0,\r\n      shoppingCart: '',\r\n      chocolateFactoryObject: '',\r\n      blocked: false\r\n    });\r\n\r\n    const fetchUserProfile = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/WebShopAppREST/rest/currentUser', {\r\n          withCredentials: true\r\n        });\r\n        user.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching user profile:', error);\r\n      }\r\n    };\r\n\r\n    const updateProfile = async () => {\r\n      if (!user.value.firstName || !user.value.lastName) {\r\n        alert('First Name and Last Name are required.');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await axios.put('http://localhost:8080/WebShopAppREST/rest/user/profile', user.value, {\r\n          withCredentials: true\r\n        });\r\n        alert('Profile updated successfully!');\r\n      } catch (error) {\r\n        console.error('Error updating profile:', error);\r\n        alert('Failed to update profile. Please try again.');\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchUserProfile();\r\n    });\r\n\r\n    return {\r\n      user,\r\n      updateProfile\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  font-weight: bold;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"number\"],\r\ninput[type=\"password\"],\r\nselect,\r\ntextarea {\r\n  width: 100%;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\np {\r\n  padding: 8px;\r\n  background-color: #f8f8f8;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n</style>\r\n"],"mappings":"AA6DA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,GAAG,EAAEC,SAAQ,QAAS,KAAK;AAEpC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,IAAG,GAAIH,GAAG,CAAC;MACfI,EAAE,EAAE,EAAE;MACNC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,EAAE;MACbC,IAAI,EAAE,EAAE;MACRC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE,CAAC;MACfC,YAAY,EAAE,EAAE;MAChBC,sBAAsB,EAAE,EAAE;MAC1BC,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,MAAMC,gBAAe,GAAI,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMnB,KAAK,CAACoB,GAAG,CAAC,uDAAuD,EAAE;UACxFC,eAAe,EAAE;QACnB,CAAC,CAAC;QACFjB,IAAI,CAACkB,KAAI,GAAIH,QAAQ,CAACI,IAAI;MAC5B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IAED,MAAME,aAAY,GAAI,MAAAA,CAAA,KAAY;MAChC,IAAI,CAACtB,IAAI,CAACkB,KAAK,CAACd,SAAQ,IAAK,CAACJ,IAAI,CAACkB,KAAK,CAACb,QAAQ,EAAE;QACjDkB,KAAK,CAAC,wCAAwC,CAAC;QAC/C;MACF;MAEA,IAAI;QACF,MAAM3B,KAAK,CAAC4B,GAAG,CAAC,wDAAwD,EAAExB,IAAI,CAACkB,KAAK,EAAE;UACpFD,eAAe,EAAE;QACnB,CAAC,CAAC;QACFM,KAAK,CAAC,+BAA+B,CAAC;MACxC,EAAE,OAAOH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/CG,KAAK,CAAC,6CAA6C,CAAC;MACtD;IACF,CAAC;IAEDzB,SAAS,CAAC,MAAM;MACdgB,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC;IAEF,OAAO;MACLd,IAAI;MACJsB;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}