{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-314222b0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"d-flex justify-content-center align-items-center vh-100\"\n};\nconst _hoisted_2 = {\n  class: \"card p-5 shadow-lg\",\n  style: {\n    \"width\": \"100%\",\n    \"max-width\": \"1300px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"manager-view\"\n};\nconst _hoisted_4 = {\n  class: \"section-container\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"CHOCOLATES\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"table\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"Logo\", -1 /* HOISTED */));\nconst _hoisted_8 = [\"src\", \"alt\"];\nconst _hoisted_9 = {\n  class: \"button-container\"\n};\nconst _hoisted_10 = {\n  class: \"section-container\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"WORKERS\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  class: \"table\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Username\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"First Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Last Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Gender\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Birth Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Role\")])], -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"button-container\"\n};\nconst _hoisted_15 = {\n  class: \"section-container\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"ORDERS\", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"minPrice\"\n}, \"Min Price:\", -1 /* HOISTED */));\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"maxPrice\"\n}, \"Max Price:\", -1 /* HOISTED */));\nconst _hoisted_21 = {\n  class: \"form-group\"\n};\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"startDate\"\n}, \"Start Date:\", -1 /* HOISTED */));\nconst _hoisted_23 = {\n  class: \"form-group\"\n};\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"endDate\"\n}, \"End Date:\", -1 /* HOISTED */));\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary w-100 mt-3\"\n}, \"Apply Filters\", -1 /* HOISTED */));\nconst _hoisted_26 = {\n  key: 0,\n  class: \"purchases\"\n};\nconst _hoisted_27 = {\n  class: \"table\"\n};\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"Items\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Sekcija za Chocolates \"), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"table\", _hoisted_6, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_7, _createElementVNode(\"th\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.sortChocolates('name'))\n  }, \"Name\"), _createElementVNode(\"th\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.sortChocolates('price'))\n  }, \"Price ($)\"), _createElementVNode(\"th\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.sortChocolates('type'))\n  }, \"Type\"), _createElementVNode(\"th\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.sortChocolates('kind'))\n  }, \"Kind\"), _createElementVNode(\"th\", {\n    onClick: _cache[4] || (_cache[4] = $event => $setup.sortChocolates('weight'))\n  }, \"Weight (g)\"), _createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $setup.sortChocolates('description'))\n  }, \"Description\"), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $setup.sortChocolates('status'))\n  }, \"Status\"), _createElementVNode(\"th\", {\n    onClick: _cache[7] || (_cache[7] = $event => $setup.sortChocolates('quantity'))\n  }, \"Quantity\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.sortedChocolates, chocolate => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: chocolate.id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: $setup.getChocolatePicture(chocolate.picture),\n      alt: chocolate.name,\n      class: \"chocolate-picture\",\n      width: \"50\",\n      height: \"50\"\n    }, null, 8 /* PROPS */, _hoisted_8)]), _createElementVNode(\"td\", null, _toDisplayString(chocolate.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.price.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.type), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.kind), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.weight), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.status), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(chocolate.quantity), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => $setup.navigateToAddChocolate && $setup.navigateToAddChocolate(...args)),\n    class: \"btn btn-outline-primary\"\n  }, \"ADD CHOCOLATE\")])]), _createCommentVNode(\" Sekcija za Workers \"), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"table\", _hoisted_12, [_hoisted_13, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.workers, worker => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: worker.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(worker.username), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(worker.firstName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(worker.lastName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(worker.gender), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(worker.birthDate)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(worker.role), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = (...args) => $setup.navigateToAddWorker && $setup.navigateToAddWorker(...args)),\n    class: \"btn btn-outline-primary\"\n  }, \"ADD WORKER\")])]), _createCommentVNode(\" Sekcija za Orders \"), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"form\", {\n    onSubmit: _cache[14] || (_cache[14] = _withModifiers((...args) => $setup.applyFilters && $setup.applyFilters(...args), [\"prevent\"])),\n    class: \"form-inline\"\n  }, [_createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.filters.minPrice = $event),\n    id: \"minPrice\",\n    type: \"number\",\n    step: \"0.01\",\n    placeholder: \"Min Price\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.minPrice, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.filters.maxPrice = $event),\n    id: \"maxPrice\",\n    type: \"number\",\n    step: \"0.01\",\n    placeholder: \"Max Price\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.maxPrice, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $setup.filters.startDate = $event),\n    id: \"startDate\",\n    type: \"date\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.startDate]])]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $setup.filters.endDate = $event),\n    id: \"endDate\",\n    type: \"date\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.endDate]])]), _hoisted_25], 32 /* NEED_HYDRATION */), $setup.filteredPurchases.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_createElementVNode(\"table\", _hoisted_27, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[15] || (_cache[15] = $event => $setup.sortPurchases('id'))\n  }, \"Order ID\"), _createElementVNode(\"th\", {\n    onClick: _cache[16] || (_cache[16] = $event => $setup.sortPurchases('customerName'))\n  }, \"Customer\"), _createElementVNode(\"th\", {\n    onClick: _cache[17] || (_cache[17] = $event => $setup.sortPurchases('purchaseDateTime'))\n  }, \"Date & Time\"), _createElementVNode(\"th\", {\n    onClick: _cache[18] || (_cache[18] = $event => $setup.sortPurchases('price'))\n  }, \"Total Amount\"), _createElementVNode(\"th\", {\n    onClick: _cache[19] || (_cache[19] = $event => $setup.sortPurchases('status'))\n  }, \"Status\"), _hoisted_28])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredPurchases, purchase => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: purchase.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(purchase.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.customerName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(purchase.purchaseDateTime)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.price.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(purchase.status), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(purchase.chocolates, item => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: item.id\n      }, _toDisplayString(item.name), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","for","type","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createCommentVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onClick","_cache","$event","$setup","sortChocolates","_Fragment","_renderList","sortedChocolates","chocolate","id","src","getChocolatePicture","picture","alt","name","width","height","_hoisted_8","_toDisplayString","price","toFixed","kind","weight","description","status","quantity","_hoisted_9","args","navigateToAddChocolate","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","workers","worker","username","firstName","lastName","gender","formatDate","birthDate","role","_hoisted_14","navigateToAddWorker","_hoisted_15","_hoisted_16","onSubmit","_withModifiers","applyFilters","_hoisted_17","_hoisted_18","filters","minPrice","step","placeholder","number","_hoisted_19","_hoisted_20","maxPrice","_hoisted_21","_hoisted_22","startDate","_hoisted_23","_hoisted_24","endDate","_hoisted_25","filteredPurchases","length","_hoisted_26","_hoisted_27","sortPurchases","_hoisted_28","purchase","customerName","purchaseDateTime","chocolates","item"],"sources":["C:\\Users\\PC\\eclipse-workspace\\apache-tomcat-9.0.89\\apache-tomcat-9.0.89\\webapps\\chocolate-factory-2\\Kostur\\Frontend\\front-app\\src\\views\\ManagerView.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex justify-content-center align-items-center vh-100\">\r\n    <div class=\"card p-5 shadow-lg\" style=\"width: 100%; max-width: 1300px;\">\r\n      <div class=\"manager-view\">\r\n\r\n        <!-- Sekcija za Chocolates -->\r\n        <div class=\"section-container\">\r\n          <h4>CHOCOLATES</h4>\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Logo</th>\r\n                <th @click=\"sortChocolates('name')\">Name</th>\r\n                <th @click=\"sortChocolates('price')\">Price ($)</th>\r\n                <th @click=\"sortChocolates('type')\">Type</th>\r\n                <th @click=\"sortChocolates('kind')\">Kind</th>\r\n                <th @click=\"sortChocolates('weight')\">Weight (g)</th>\r\n                <th @click=\"sortChocolates('description')\">Description</th>\r\n                <th @click=\"sortChocolates('status')\">Status</th>\r\n                <th @click=\"sortChocolates('quantity')\">Quantity</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"chocolate in sortedChocolates\" :key=\"chocolate.id\">\r\n                <td><img :src=\"getChocolatePicture(chocolate.picture)\" :alt=\"chocolate.name\" class=\"chocolate-picture\" width=\"50\" height=\"50\"/></td>\r\n                <td>{{ chocolate.name }}</td>\r\n                <td>{{ chocolate.price.toFixed(2) }}</td>\r\n                <td>{{ chocolate.type }}</td>\r\n                <td>{{ chocolate.kind }}</td>\r\n                <td>{{ chocolate.weight }}</td>\r\n                <td>{{ chocolate.description }}</td>\r\n                <td>{{ chocolate.status }}</td>\r\n                <td>{{ chocolate.quantity }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"button-container\">\r\n            <button @click=\"navigateToAddChocolate\" class=\"btn btn-outline-primary\">ADD CHOCOLATE</button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Sekcija za Workers -->\r\n        <div class=\"section-container\">\r\n          <h4>WORKERS</h4>\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Username</th>\r\n                <th>First Name</th>\r\n                <th>Last Name</th>\r\n                <th>Gender</th>\r\n                <th>Birth Date</th>\r\n                <th>Role</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"worker in workers\" :key=\"worker.id\">\r\n                <td>{{ worker.username }}</td>\r\n                <td>{{ worker.firstName }}</td>\r\n                <td>{{ worker.lastName }}</td>\r\n                <td>{{ worker.gender }}</td>\r\n                <td>{{ formatDate(worker.birthDate) }}</td>\r\n                <td>{{ worker.role }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"button-container\">\r\n            <button @click=\"navigateToAddWorker\" class=\"btn btn-outline-primary\">ADD WORKER</button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Sekcija za Orders -->\r\n        <div class=\"section-container\">\r\n          <h4>ORDERS</h4>\r\n          <form @submit.prevent=\"applyFilters\" class=\"form-inline\">\r\n            <div class=\"form-group\">\r\n              <label for=\"minPrice\">Min Price:</label>\r\n              <input v-model.number=\"filters.minPrice\" id=\"minPrice\" type=\"number\" step=\"0.01\" placeholder=\"Min Price\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"maxPrice\">Max Price:</label>\r\n              <input v-model.number=\"filters.maxPrice\" id=\"maxPrice\" type=\"number\" step=\"0.01\" placeholder=\"Max Price\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"startDate\">Start Date:</label>\r\n              <input v-model=\"filters.startDate\" id=\"startDate\" type=\"date\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"endDate\">End Date:</label>\r\n              <input v-model=\"filters.endDate\" id=\"endDate\" type=\"date\" class=\"form-control\">\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary w-100 mt-3\">Apply Filters</button>\r\n          </form>\r\n\r\n          <div class=\"purchases\" v-if=\"filteredPurchases.length\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th @click=\"sortPurchases('id')\">Order ID</th>\r\n                  <th @click=\"sortPurchases('customerName')\">Customer</th>\r\n                  <th @click=\"sortPurchases('purchaseDateTime')\">Date & Time</th>\r\n                  <th @click=\"sortPurchases('price')\">Total Amount</th>\r\n                  <th @click=\"sortPurchases('status')\">Status</th>\r\n                  <th>Items</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"purchase in filteredPurchases\" :key=\"purchase.id\">\r\n                  <td>{{ purchase.id }}</td>\r\n                  <td>{{ purchase.customerName }}</td>\r\n                  <td>{{ formatDate(purchase.purchaseDateTime) }}</td>\r\n                  <td>{{ purchase.price.toFixed(2) }}</td>\r\n                  <td>{{ purchase.status }}</td>\r\n                  <td>\r\n                    <ul>\r\n                      <li v-for=\"item in purchase.chocolates\" :key=\"item.id\">{{ item.name }}</li>\r\n                    </ul>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  setup() {\r\n    const manager = ref(null);\r\n    const factory = ref(null);\r\n    const purchases = ref([]);\r\n    const customers = ref([]);\r\n    const workers = ref([]);\r\n    const router = useRouter();\r\n    \r\n    const sortOrder = ref({\r\n      field: null,\r\n      ascending: true\r\n    });\r\n\r\n    const filters = ref({\r\n      minPrice: null,\r\n      maxPrice: null,\r\n      startDate: null,\r\n      endDate: null,\r\n    });\r\n\r\n    const sortedChocolates = computed(() => {\r\n      if (!factory.value) return [];\r\n\r\n      const sorted = [...factory.value.chocolates];\r\n      if (sortOrder.value.field) {\r\n        sorted.sort((a, b) => {\r\n          const aValue = a[sortOrder.value.field];\r\n          const bValue = b[sortOrder.value.field];\r\n\r\n          if (aValue > bValue) return sortOrder.value.ascending ? 1 : -1;\r\n          if (aValue < bValue) return sortOrder.value.ascending ? -1 : 1;\r\n          return 0;\r\n        });\r\n      }\r\n      return sorted;\r\n    });\r\n\r\n    const fetchManagerData = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/WebShopAppREST/rest/currentUser', {\r\n          withCredentials: true,\r\n        });\r\n        manager.value = response.data;\r\n\r\n        const factoryResponse = await axios.get(`http://localhost:8080/WebShopAppREST/rest/chocolateFactoryObjects/${manager.value.factoryId}`, {\r\n          withCredentials: true,\r\n        });\r\n        factory.value = factoryResponse.data;\r\n\r\n        const purchasesResponse = await axios.get(`http://localhost:8080/WebShopAppREST/rest/purchases/factory/${manager.value.factoryId}`, {\r\n          withCredentials: true,\r\n        });\r\n        purchases.value = purchasesResponse.data;\r\n\r\n        const customersResponse = await axios.get(`http://localhost:8080/WebShopAppREST/rest/users/customers/factory/${manager.value.factoryId}`, {\r\n          withCredentials: true,\r\n        });\r\n        customers.value = customersResponse.data;\r\n\r\n        const workersResponse = await axios.get(`http://localhost:8080/WebShopAppREST/rest/users/workers/factory/${manager.value.factoryId}`, {\r\n          withCredentials: true,\r\n        });\r\n        workers.value = workersResponse.data;\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching manager data:', error);\r\n      }\r\n    };\r\n\r\n    const getChocolatePicture = (pictureName) => {\r\n      if (pictureName) {\r\n        return `/images/${pictureName}`;\r\n      } else {\r\n        return '/images/default.png';\r\n      }\r\n    };\r\n\r\n    const sortChocolates = (field) => {\r\n      if (sortOrder.value.field === field) {\r\n        sortOrder.value.ascending = !sortOrder.value.ascending;\r\n      } else {\r\n        sortOrder.value.field = field;\r\n        sortOrder.value.ascending = true;\r\n      }\r\n    };\r\n\r\n    const formatDate = (date) => {\r\n      if (!date) return \"\";\r\n      const formattedDate = new Date(date);\r\n      return formattedDate.toLocaleDateString();\r\n    };\r\n\r\n    const filteredPurchases = computed(() => {\r\n      return purchases.value.filter(purchase => {\r\n        const matchesPrice = (!filters.value.minPrice || purchase.price >= filters.value.minPrice) &&\r\n                             (!filters.value.maxPrice || purchase.price <= filters.value.maxPrice);\r\n        const matchesDate = (!filters.value.startDate || new Date(purchase.purchaseDateTime) >= new Date(filters.value.startDate)) &&\r\n                            (!filters.value.endDate || new Date(purchase.purchaseDateTime) <= new Date(filters.value.endDate));\r\n        return matchesPrice && matchesDate;\r\n      });\r\n    });\r\n\r\n    const sortPurchases = (field) => {\r\n      if (sortOrder.value.field === field) {\r\n        sortOrder.value.ascending = !sortOrder.value.ascending;\r\n      } else {\r\n        sortOrder.value.field = field;\r\n        sortOrder.value.ascending = true;\r\n      }\r\n\r\n      filteredPurchases.value.sort((a, b) => {\r\n        const aValue = a[field];\r\n        const bValue = b[field];\r\n        if (aValue > bValue) return sortOrder.value.ascending ? 1 : -1;\r\n        if (aValue < bValue) return sortOrder.value.ascending ? -1 : 1;\r\n        return 0;\r\n      });\r\n    };\r\n\r\n    const applyFilters = () => {\r\n      if (sortOrder.value.field) {\r\n        sortPurchases(sortOrder.value.field);\r\n      }\r\n    };\r\n\r\n    const navigateToAddWorker = () => {\r\n      router.push('/addworker');\r\n    };\r\n\r\n    const navigateToAddChocolate = () => {\r\n      router.push('/addchocolate');\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchManagerData();\r\n    });\r\n\r\n    return {\r\n      manager,\r\n      factory,\r\n      purchases,\r\n      customers,\r\n      workers,\r\n      filters,\r\n      sortedChocolates,\r\n      filteredPurchases,\r\n      formatDate,\r\n      sortChocolates,\r\n      sortPurchases,\r\n      applyFilters,\r\n      navigateToAddWorker,\r\n      navigateToAddChocolate,\r\n      getChocolatePicture,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.d-flex {\r\n  min-height: 100vh;\r\n}\r\n\r\n.card {\r\n  padding: 30px;\r\n  background-color: transparent; /* Transparentna pozadina kartice */\r\n  box-shadow: none; /* Bez senki i okvira spolja */\r\n}\r\n\r\nh2 {\r\n  color: #007bff;\r\n  text-align: center;\r\n  font-size: 2rem;\r\n  font-weight: normal;\r\n}\r\n\r\nh3, h4 {\r\n  color: #007bff;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-inline {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  gap: 10px;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-right: 10px;\r\n}\r\n\r\n.form-control {\r\n  border: 1px solid #007bff;\r\n  border-radius: 8px;\r\n  padding: 10px;\r\n  font-size: 1.1rem;\r\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.form-control:focus {\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);\r\n}\r\n\r\nbutton {\r\n  border: 1px solid #007bff;\r\n  background-color: transparent;\r\n  color: #007bff;\r\n  font-size: 1.1rem;\r\n  border-radius: 8px;\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #007bff;\r\n  color: white;\r\n}\r\n\r\nbutton[type=\"submit\"] {\r\n  margin-top: 20px;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 10px;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\n.table th {\r\n  background-color: #f5e7f5;\r\n  text-align: left;\r\n  cursor: pointer;\r\n}\r\n\r\n/* Stilovi za uokvirene sekcije */\r\n.section-container {\r\n  border: 2px solid #007bff; /* Plava linija */\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  background-color: #e9f5ff; /* Svetloplava pozadina unutar plave linije */\r\n}\r\n\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}