{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4af0b479\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Registered Users\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"searchFirstName\"\n}, \"Search by First Name: \", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"searchLastName\"\n}, \"Search by Last Name: \", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"searchUsername\"\n}, \"Search by Username: \", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"table\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"searchFirstName\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchFirstName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchFirstName]])]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"searchLastName\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.searchLastName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchLastName]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"searchUsername\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.searchUsername = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchUsername]])]), _createElementVNode(\"table\", _hoisted_5, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.sortBy('firstName'))\n  }, [_createTextVNode(\"First Name \"), $setup.sortKey === 'firstName' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString($setup.sortOrders.firstName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[4] || (_cache[4] = $event => $setup.sortBy('lastName'))\n  }, [_createTextVNode(\"Last Name \"), $setup.sortKey === 'lastName' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString($setup.sortOrders.lastName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $setup.sortBy('username'))\n  }, [_createTextVNode(\"Username \"), $setup.sortKey === 'username' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString($setup.sortOrders.username), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $setup.sortBy('earnedPoints'))\n  }, [_createTextVNode(\"Earned Points \"), $setup.sortKey === 'earnedPoints' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString($setup.sortOrders.earnedPoints), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.firstName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.lastName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.username), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.earnedPoints), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementVNode","for","class","key","_createElementBlock","_hoisted_1","_hoisted_2","type","id","_cache","$event","$setup","searchFirstName","_hoisted_3","searchLastName","_hoisted_4","searchUsername","_hoisted_5","onClick","sortBy","_createTextVNode","sortKey","_hoisted_6","_toDisplayString","sortOrders","firstName","_createCommentVNode","_hoisted_7","lastName","_hoisted_8","username","_hoisted_9","earnedPoints","_Fragment","_renderList","filteredUsers","user"],"sources":["C:\\Users\\PC\\eclipse-workspace\\apache-tomcat-9.0.89\\apache-tomcat-9.0.89\\webapps\\chocolate-factory-2\\Kostur\\Frontend\\front-app\\src\\views\\UserTable.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Registered Users</h2>\r\n    <div>\r\n      <label for=\"searchFirstName\">Search by First Name: </label>\r\n      <input type=\"text\" id=\"searchFirstName\" v-model=\"searchFirstName\">\r\n    </div>\r\n    <div>\r\n      <label for=\"searchLastName\">Search by Last Name: </label>\r\n      <input type=\"text\" id=\"searchLastName\" v-model=\"searchLastName\">\r\n    </div>\r\n    <div>\r\n      <label for=\"searchUsername\">Search by Username: </label>\r\n      <input type=\"text\" id=\"searchUsername\" v-model=\"searchUsername\">\r\n    </div>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th @click=\"sortBy('firstName')\">First Name <span v-if=\"sortKey === 'firstName'\">{{ sortOrders.firstName }}</span></th>\r\n          <th @click=\"sortBy('lastName')\">Last Name <span v-if=\"sortKey === 'lastName'\">{{ sortOrders.lastName }}</span></th>\r\n          <th @click=\"sortBy('username')\">Username <span v-if=\"sortKey === 'username'\">{{ sortOrders.username }}</span></th>\r\n          <th @click=\"sortBy('earnedPoints')\">Earned Points <span v-if=\"sortKey === 'earnedPoints'\">{{ sortOrders.earnedPoints }}</span></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in filteredUsers\" :key=\"user.id\">\r\n          <td>{{ user.firstName }}</td>\r\n          <td>{{ user.lastName }}</td>\r\n          <td>{{ user.username }}</td>\r\n          <td>{{ user.earnedPoints }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref, onMounted, computed } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const users = ref([]); // Initialize as an array\r\n    const searchFirstName = ref('');\r\n    const searchLastName = ref('');\r\n    const searchUsername = ref('');\r\n    const sortKey = ref('');\r\n    const sortOrders = ref({\r\n      firstName: 1,\r\n      lastName: 1,\r\n      username: 1,\r\n      earnedPoints: 1\r\n    });\r\n\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/WebShopAppREST/rest/users', {\r\n          withCredentials: true,\r\n        });\r\n        users.value = Object.values(response.data); // Ensure users.value is set as an array of values\r\n        console.log('Fetched users:', users.value);\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchUsers();\r\n    });\r\n\r\n    const filteredUsers = computed(() => {\r\n      return users.value.filter(user => {\r\n        const firstNameMatch = user.firstName.toLowerCase().includes(searchFirstName.value.toLowerCase());\r\n        const lastNameMatch = user.lastName.toLowerCase().includes(searchLastName.value.toLowerCase());\r\n        const usernameMatch = user.username.toLowerCase().includes(searchUsername.value.toLowerCase());\r\n        \r\n        return firstNameMatch && lastNameMatch && usernameMatch;\r\n      });\r\n    });\r\n\r\n    const sortBy = key => {\r\n      sortKey.value = key;\r\n      sortOrders.value[key] = sortOrders.value[key] * -1;\r\n      filteredUsers.value.sort((a, b) => {\r\n        const modifier = sortOrders.value[key];\r\n        if (key === 'earnedPoints') {\r\n          return modifier * (a[key] - b[key]);\r\n        } else {\r\n          return modifier * a[key].localeCompare(b[key]);\r\n        }\r\n      });\r\n    };\r\n\r\n    return {\r\n      filteredUsers,\r\n      searchFirstName,\r\n      searchLastName,\r\n      searchUsername,\r\n      sortBy,\r\n      sortKey,\r\n      sortOrders\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.table th, .table td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\n.table th {\r\n  background-color: #f2f2f2;\r\n  text-align: left;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}