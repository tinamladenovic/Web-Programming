{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { onMounted, ref } from 'vue';\nexport default {\n  __name: 'WebShopTable',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const title = ref(\"Product List\");\n    const products = ref([]);\n    const mode = ref(\"BROWSE\");\n    const error = ref(\"\");\n    const selectedProduct = ref({\n      name: \"\",\n      price: 0\n    });\n    onMounted(() => {\n      loadProducts();\n    });\n    function loadProducts() {\n      axios.get('http://localhost:8080/WebShopAppREST/rest/products/').then(response => {\n        products.value = response.data;\n      });\n    }\n    function showForm() {\n      mode.value = \"CREATE\";\n      selectedProduct.value = {\n        id: '',\n        name: null,\n        price: null\n      };\n    }\n    function createProduct(event) {\n      this.error = \"\";\n      if (!this.selectedProduct.name || !this.selectedProduct.price) {\n        this.error = \"Unesite naziv i cenu\";\n        event.preventDefault();\n        return;\n      }\n      if (this.mode == 'CREATE') {\n        event.preventDefault();\n        console.log(this.selectedProduct);\n        axios.post('http://localhost:8080/WebShopAppREST/rest/products', this.selectedProduct).then(response => {\n          alert('Novi proizvod uspešno kreiran');\n          this.mode = 'BROWSE';\n          this.products.push(response.data);\n        });\n      }\n    }\n    const __returned__ = {\n      title,\n      products,\n      mode,\n      error,\n      selectedProduct,\n      loadProducts,\n      showForm,\n      createProduct,\n      get axios() {\n        return axios;\n      },\n      onMounted,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["axios","onMounted","ref","title","products","mode","error","selectedProduct","name","price","loadProducts","get","then","response","value","data","showForm","id","createProduct","event","preventDefault","console","log","post","alert","push"],"sources":["C:/Users/filip/Desktop/Frontend/front-app/src/components/WebShopTable.vue"],"sourcesContent":["<template>\r\n\t<div id=\"web-shop\">\r\n\t\t<h1>Table</h1>\r\n\t\t<div id=\"products\">\r\n\t\t\t<h3>{{ title }}</h3>\r\n\r\n\t\t\t<table id=\"tabela\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t<th>Naziv</th>\r\n\t\t\t\t\t\t<th>Cena</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\r\n\t\t\t\t<tr v-for=\"p in products\">\r\n\t\t\t\t\t<td>{{ p.id }}</td>\r\n\t\t\t\t\t<td>{{ p.name }}</td>\r\n\t\t\t\t\t<td>{{ p.price }}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\r\n\t\t\t<p><button class=\"dodaj\" v-on:click=\"showForm()\">Dodaj</button></p>\r\n\r\n\t\t\t<form id=\"forma\" v-bind:hidden=\"mode == 'BROWSE'\" @submit=\"createProduct($event)\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>Naziv</td>\r\n\t\t\t\t\t\t<td><input type=\"text\" name=\"name\" v-model=\"selectedProduct.name\"></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>Cena</td>\r\n\t\t\t\t\t\t<td><input type=\"number\" name=\"price\" v-model=\"selectedProduct.price\"></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td><input type=\"submit\" value=\"Pošalji\"></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t\t<p id=\"error\">{{ error }}</p>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport axios from 'axios';\r\nimport { onMounted, ref } from 'vue';\r\n\r\n\r\nconst title = ref(\"Product List\");\r\nconst products = ref([]);\r\nconst mode = ref(\"BROWSE\");\r\nconst error = ref(\"\");\r\nconst selectedProduct = ref({ name: \"\", price: 0 });\r\n\r\nonMounted(() => {\r\n\tloadProducts();\r\n})\r\n\r\nfunction loadProducts() {\r\n\taxios.get('http://localhost:8080/WebShopAppREST/rest/products/')\r\n\t\t.then(response => {\r\n\t\t\t(products.value = response.data)\r\n\t\t});\r\n}\r\n\r\nfunction showForm() {\r\n\tmode.value = \"CREATE\";\r\n\tselectedProduct.value = { id: '', name: null, price: null }\r\n\r\n}\r\n\r\nfunction createProduct(event) {\r\n\tthis.error = \"\"\r\n\tif (!this.selectedProduct.name || !this.selectedProduct.price) {\r\n\t\tthis.error = \"Unesite naziv i cenu\";\r\n\t\tevent.preventDefault();\r\n\t\treturn;\r\n\t}\r\n\tif (this.mode == 'CREATE') {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(this.selectedProduct)\r\n\t\taxios.post('http://localhost:8080/WebShopAppREST/rest/products', this.selectedProduct)\r\n\t\t\t.then((response) => {\r\n\t\t\t\talert('Novi proizvod uspešno kreiran')\r\n\t\t\t\tthis.mode = 'BROWSE'\r\n\t\t\t\tthis.products.push(response.data)\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n#web-shop {\r\n\twidth: 600px;\r\n}\r\n\r\n#tabela {\r\n\tcolor: white;\r\n\tbackground-color: #333;\r\n\tborder-collapse: collapse;\r\n\twidth: 100%;\r\n}\r\n\r\n#tabela th,\r\n#tabela td {\r\n\tpadding: 8px;\r\n\ttext-align: left;\r\n\tborder-bottom: 1px solid #ddd;\r\n}\r\n\r\n#tabela th {\r\n\tbackground-color: #555;\r\n}\r\n\r\n#tabela tr:nth-child(even) {\r\n\tbackground-color: #444;\r\n}\r\n\r\n#tabela tr:hover {\r\n\tbackground-color: #777;\r\n}\r\n\r\n.dodaj {\r\n\tpadding: 8px;\r\n\tborder: none;\r\n\tborder-radius: 0.25rem;\r\n\tbackground-color: #007bff;\r\n\tcolor: white;\r\n}\r\n</style>"],"mappings":";AA6CA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,GAAG,QAAQ,KAAK;;;;;;;IAGpC,MAAMC,KAAK,GAAGD,GAAG,CAAC,cAAc,CAAC;IACjC,MAAME,QAAQ,GAAGF,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMG,IAAI,GAAGH,GAAG,CAAC,QAAQ,CAAC;IAC1B,MAAMI,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMK,eAAe,GAAGL,GAAG,CAAC;MAAEM,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAE,CAAC,CAAC;IAEnDR,SAAS,CAAC,MAAM;MACfS,YAAY,CAAC,CAAC;IACf,CAAC,CAAC;IAEF,SAASA,YAAYA,CAAA,EAAG;MACvBV,KAAK,CAACW,GAAG,CAAC,qDAAqD,CAAC,CAC9DC,IAAI,CAACC,QAAQ,IAAI;QAChBT,QAAQ,CAACU,KAAK,GAAGD,QAAQ,CAACE,IAAI;MAChC,CAAC,CAAC;IACJ;IAEA,SAASC,QAAQA,CAAA,EAAG;MACnBX,IAAI,CAACS,KAAK,GAAG,QAAQ;MACrBP,eAAe,CAACO,KAAK,GAAG;QAAEG,EAAE,EAAE,EAAE;QAAET,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAE5D;IAEA,SAASS,aAAaA,CAACC,KAAK,EAAE;MAC7B,IAAI,CAACb,KAAK,GAAG,EAAE;MACf,IAAI,CAAC,IAAI,CAACC,eAAe,CAACC,IAAI,IAAI,CAAC,IAAI,CAACD,eAAe,CAACE,KAAK,EAAE;QAC9D,IAAI,CAACH,KAAK,GAAG,sBAAsB;QACnCa,KAAK,CAACC,cAAc,CAAC,CAAC;QACtB;MACD;MACA,IAAI,IAAI,CAACf,IAAI,IAAI,QAAQ,EAAE;QAC1Bc,KAAK,CAACC,cAAc,CAAC,CAAC;QACtBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,eAAe,CAAC;QACjCP,KAAK,CAACuB,IAAI,CAAC,oDAAoD,EAAE,IAAI,CAAChB,eAAe,CAAC,CACpFK,IAAI,CAAEC,QAAQ,IAAK;UACnBW,KAAK,CAAC,+BAA+B,CAAC;UACtC,IAAI,CAACnB,IAAI,GAAG,QAAQ;UACpB,IAAI,CAACD,QAAQ,CAACqB,IAAI,CAACZ,QAAQ,CAACE,IAAI,CAAC;QAClC,CAAC,CAAC;MACJ;IACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}